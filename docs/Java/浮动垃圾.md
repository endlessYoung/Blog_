# 浮动垃圾

## 1. 形成原因
在JVM（Java虚拟机）的垃圾回收过程中，“浮动垃圾”是指在并发标记或并发清理阶段由用户线程产生的新垃圾。这些垃圾之所以被称为“浮动”，是因为它们是在垃圾回收器进行标记或清理操作的同时，由于应用程序的持续运行而新产生的垃圾。

1. **并发执行**：在某些垃圾回收器执行其并发阶段时，用户线程并未停止运行。即在垃圾回收器进行可达性分析的同时，应用程序可能仍在创建新对象或废弃旧对象。
2. **无法即时标记**：由于并发执行的特点，新产生的垃圾可能不会被当前正在进行的垃圾回收周期所标记，导致这些对象成为了未标记的垃圾。

## 处理方法

1. 等待下一次GC：浮动垃圾通常会被遗留到下一次垃圾回收周期再进行处理。虽然这可能导致短暂的内存浪费，但对于大多数应用场景来说，这种浪费是可以接收的。
2. 减少产生：可以通过调整应用的行为或者垃圾回收器的参数来减少浮动垃圾的产生。例如：通过减少每次垃圾回收的时间窗口，或者增加新生代的空间，使得更多的对象可以在成为浮动垃圾之前被回收。

## 影响
1. 内存占用：浮动垃圾会导致内存占用率暂时上升，直到下一次GC。
2. GC频率：如果浮动垃圾产生太多，可能会导致垃圾回收的频率增加，降低程序性能。